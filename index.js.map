{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createGalleryCardTemplate = imgs => {\n\n  const {\n    webformatURL,\n    largeImageURL,\n    tags,\n    likes,\n    views,\n    comments,\n    downloads,\n  } = imgs;\n\n  return `<li class=\"gallery-card\">\n            <a href=${largeImageURL} class=\"gallery-link\">\n              <img class=\"gallery-img\" src=${webformatURL} alt='s${tags}'>\n            </a>\n\n          <ul class=\"description\">\n            <li class=\"description-item\">\n              <p class=\"descriotion-text\">Likes<span class=\"descriotion-span\">${likes}</span></p>\n            </li>\n            <li class=\"description-item\">\n              <p class=\"descriotion-text\">Views<span class=\"descriotion-span\">${views}</span></p>\n            </li>\n            <li class=\"description-item\">\n              <p class=\"descriotion-text\">Comments<span class=\"descriotion-span\">${comments}</span></p>\n            </li>\n            <li class=\"description-item\">\n              <p class=\"descriotion-text\">Downloads<span class=\"descriotion-span\">${downloads}</</span></p>\n            </li>\n          </ul>\n          </li>`;\n};\n\n\n\n\n\n","export const fetchPhotosByQuery = searchQuary => {\n  const apiKey = '48501785-b055ddd49a6daf7c18b293e38';\n\n  console.log('Using API Key:', apiKey);\n\n  const searchParams = new URLSearchParams({\n    key: apiKey,\n    q: searchQuary,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 12,\n  });\n\n  return fetch(`https://pixabay.com/api/?${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};\n","import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\n\nimport { createGalleryCardTemplate } from './js/render-functions';\nimport { fetchPhotosByQuery } from './js/pixabay-api';\n\nconst seachFormEl = document.querySelector('.js-seach-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst loaderEl = document.querySelector('.loader-container');\n\niziToast.settings({\n  position: 'topRight',\n  theme: 'dark',\n  backgroundColor: '#ef4040',\n  timeout: 2000,\n});\n\nconst lightbox = new SimpleLightbox('.js-gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n  animationSpeed: 400,\n});\n\nconst onSeachFormSubmit = evt => {\n  evt.preventDefault();\n\n  const searchQuary = evt.currentTarget.elements.user_query.value.trim();\n\n  if (searchQuary === '') {\n    loaderSwitcher(false);\n    setTimeout(() => {\n      iziToast.error({\n        message: 'Please feel this field!',\n      });\n    }, 500);\n    seachFormEl.reset();\n    loaderSwitcher(true);\n    return;\n  }\n\n  galleryVisibly(true);\n  loaderSwitcher(false);\n\n  fetchPhotosByQuery(searchQuary)\n    .then(data => {\n      if (data.total === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n        galleryEl.innerHTML = '';\n        seachFormEl.reset();\n        return;\n      }\n      const galleryTemplate = data.hits\n        .map(imgs => createGalleryCardTemplate(imgs))\n        .join('');\n      galleryEl.innerHTML = galleryTemplate;\n      lightbox.refresh();\n      galleryVisibly(true);\n    })\n    .catch(err => {\n      console.log(err);\n    })\n    .finally(() => {\n      seachFormEl.reset();\n      loaderSwitcher(true);\n    });\n  galleryVisibly(false);\n};\n\nseachFormEl.addEventListener('submit', onSeachFormSubmit);\n\nfunction loaderSwitcher(boolean) {\n  if (boolean) {\n    setTimeout(() => {\n      loaderEl.classList.add('is-hidden');\n    }, 500);\n  } else {\n    loaderEl.classList.remove('is-hidden');\n  }\n}\n\nfunction galleryVisibly(boolean) {\n  if (boolean) {\n    galleryEl.classList.remove('is-visibly');\n  } else {\n    galleryEl.classList.add('is-visibly');\n  }\n}\n"],"names":["createGalleryCardTemplate","imgs","webformatURL","largeImageURL","tags","likes","views","comments","downloads","fetchPhotosByQuery","searchQuary","apiKey","searchParams","response","seachFormEl","galleryEl","loaderEl","iziToast","lightbox","SimpleLightbox","onSeachFormSubmit","evt","loaderSwitcher","galleryVisibly","data","galleryTemplate","err","boolean"],"mappings":"6vBAAO,MAAMA,EAA4BC,GAAQ,CAE/C,KAAM,CACJ,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGP,EAEJ,MAAO;AAAA,sBACaE,CAAa;AAAA,6CACUD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,gFAKSC,CAAK;AAAA;AAAA;AAAA,gFAGLC,CAAK;AAAA;AAAA;AAAA,mFAGFC,CAAQ;AAAA;AAAA;AAAA,oFAGPC,CAAS;AAAA;AAAA;AAAA,gBAI7F,EChCaC,EAAqBC,GAAe,CAC/C,MAAMC,EAAS,qCAEf,QAAQ,IAAI,iBAAkBA,CAAM,EAEpC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAKD,EACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACd,CAAG,EAED,OAAO,MAAM,4BAA4BE,CAAY,EAAE,EAAE,KAAKC,GAAY,CACxE,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,ECdMC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAW,SAAS,cAAc,mBAAmB,EAE3DC,EAAS,SAAS,CAChB,SAAU,WACV,MAAO,OACP,gBAAiB,UACjB,QAAS,GACX,CAAC,EAED,MAAMC,EAAW,IAAIC,EAAe,gBAAiB,CACnD,aAAc,MACd,aAAc,IACd,eAAgB,GAClB,CAAC,EAEKC,EAAoBC,GAAO,CAC/BA,EAAI,eAAc,EAElB,MAAMX,EAAcW,EAAI,cAAc,SAAS,WAAW,MAAM,OAEhE,GAAIX,IAAgB,GAAI,CACtBY,EAAe,EAAK,EACpB,WAAW,IAAM,CACfL,EAAS,MAAM,CACb,QAAS,yBACjB,CAAO,CACF,EAAE,GAAG,EACNH,EAAY,MAAK,EACjBQ,EAAe,EAAI,EACnB,MACD,CAEDC,EAAe,EAAI,EACnBD,EAAe,EAAK,EAEpBb,EAAmBC,CAAW,EAC3B,KAAKc,GAAQ,CACZ,GAAIA,EAAK,QAAU,EAAG,CACpBP,EAAS,MAAM,CACb,QACE,0EACZ,CAAS,EACDF,EAAU,UAAY,GACtBD,EAAY,MAAK,EACjB,MACD,CACD,MAAMW,EAAkBD,EAAK,KAC1B,IAAIvB,GAAQD,EAA0BC,CAAI,CAAC,EAC3C,KAAK,EAAE,EACVc,EAAU,UAAYU,EACtBP,EAAS,QAAO,EAChBK,EAAe,EAAI,CACzB,CAAK,EACA,MAAMG,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACrB,CAAK,EACA,QAAQ,IAAM,CACbZ,EAAY,MAAK,EACjBQ,EAAe,EAAI,CACzB,CAAK,EACHC,EAAe,EAAK,CACtB,EAEAT,EAAY,iBAAiB,SAAUM,CAAiB,EAExD,SAASE,EAAeK,EAAS,CAC3BA,EACF,WAAW,IAAM,CACfX,EAAS,UAAU,IAAI,WAAW,CACnC,EAAE,GAAG,EAENA,EAAS,UAAU,OAAO,WAAW,CAEzC,CAEA,SAASO,EAAeI,EAAS,CAC3BA,EACFZ,EAAU,UAAU,OAAO,YAAY,EAEvCA,EAAU,UAAU,IAAI,YAAY,CAExC"}